/*
 ------------------------获取dom封装工具部分---------------------
 */
//封装通过class获取dom对象的函数
function getClass(className,obj){obj=obj||document;if(obj.getElementsByClassName){return obj.getElementsByClassName(className)}else{var result=[];var objs=document.getElementsByTagName("*");for(var i=0,len=obj.length;i<len;i+=1){var classNames=objs[i].className.split(" ");for(var j=0,len=classNames.length;i<len;j+=1){if(className===classNames[j]){result.push(objs[i]);break}}}return result}}function _get(param,obj){obj=obj||document;if(param.indexOf("#")===0){return document.getElementById(param.substring(1))}else if(param.indexOf(".")===0){return getClass(param.substring(1),obj)}else{return obj.getElementsByTagName(param)}}function setAttr(oTarget,obj){obj=obj||document;for(var sAttr in oTarget){obj.style[sAttr]=oTarget[sAttr]}}function getAttr(sAttr,obj){obj=obj||document;return obj.currentStyle?obj.currentStyle[sAttr]:getComputedStyle(obj,null)[sAttr]}var LJC={Linear:function(t,b,c,d){return c*t/d+b},Quad:{easeIn:function(t,b,c,d){return c*(t/=d)*t+b},easeOut:function(t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b}return-c/2*((t-=1)*(t-2)-1)+b}},Cubic:{easeIn:function(t,b,c,d){return c*(t/=d)*t*t+b},easeOut:function(t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t+b}return c/2*((t-=2)*t*t+2)+b}},Quart:{easeIn:function(t,b,c,d){return c*(t/=d)*t*t*t+b},easeOut:function(t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t+b}return-c/2*((t-=2)*t*t*t-2)+b}},Quint:{easeIn:function(t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOut:function(t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t*t+b}return c/2*((t-=2)*t*t*t*t+2)+b}},Sine:{easeIn:function(t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOut:function(t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOut:function(t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b}},Expo:{easeIn:function(t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOut:function(t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOut:function(t,b,c,d){if(t==0){return b}if(t==d){return b+c}if((t/=d/2)<1){return c/2*Math.pow(2,10*(t-1))+b}return c/2*(-Math.pow(2,-10* --t)+2)+b}},Circ:{easeIn:function(t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOut:function(t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return-c/2*(Math.sqrt(1-t*t)-1)+b}return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b}},Elastic:{easeIn:function(t,b,c,d,a,p){if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*.3}if(!a||a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOut:function(t,b,c,d,a,p){if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*.3}if(!a||a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}return(a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b)},easeInOut:function(t,b,c,d,a,p){if(t==0){return b}if((t/=d/2)==2){return b+c}if(!p){p=d*(.3*1.5)}if(!a||a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1){return -.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b}return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b}},Back:{easeIn:function(t,b,c,d,s){if(s==undefined){s=1.70158}return c*(t/=d)*t*((s+1)*t-s)+b},easeOut:function(t,b,c,d,s){if(s==undefined){s=1.70158}return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOut:function(t,b,c,d,s){if(s==undefined){s=1.70158}if((t/=d/2)<1){return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b}return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b}},Bounce:{easeIn:function(t,b,c,d){return c-LJC.Bounce.easeOut(d-t,0,c,d)+b},easeOut:function(t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b}},easeInOut:function(t,b,c,d){if(t<d/2){return LJC.Bounce.easeIn(t*2,0,c,d)*.5+b}else{return LJC.Bounce.easeOut(t*2-d,0,c,d)*.5+c*.5+b}}}};function startMove(obj,oTarget,fx,times,fn){clearInterval(obj.timer);var oCur={};for(var sAttr in oTarget){if(sAttr=='opacity'){oCur[sAttr]=parseInt(parseFloat(getStyle(obj,sAttr))*100)}else{oCur[sAttr]=parseInt(getStyle(obj,sAttr))}}var startTime=new Date().getTime();obj.timer=setInterval(function(){var switchTime=new Date().getTime();var iScale=1-Math.max(0,(startTime+times-switchTime)/times);for(var sAttr in oTarget){var iNow=fx(iScale*times,oCur[sAttr],oTarget[sAttr]-oCur[sAttr],times);if(sAttr=='opacity'){obj.style['opacity']=iNow/100;obj.style['filter']='alpha(opacity:'+iNow+')'}else if(sAttr==='zIndex'){obj.style[sAttr]=iNow}else{obj.style[sAttr]=iNow+'px'}}if(iScale==1){clearInterval(obj.timer);if(fn){fn.call(obj)}}},20);function getStyle(obj,sAttr){if(obj.currentStyle){return obj.currentStyle[sAttr]}else{return getComputedStyle(obj,false)[sAttr]}}}function Swiper(id,oArrImg,oOptions){if(oOptions===undefined){this.autoPlay=false;this.switchBtn=false;this.listNum=true;this.hoverStop=false;this.autoTime=3000;this.playWay=LJC.Linear;this.switchTime=500;this.shadow=false;this.moveMode="move";this.vPlay=false;this.listSwitch="hover";this.vDirection="up";this.showText=false;this.loop=false;}else{for(var sAttr in oOptions){this[sAttr]=oOptions[sAttr]}this.autoPlay=oOptions.autoPlay||false;this.switchBtn=oOptions.switchBtn||false;this.listNum=oOptions.listNum;this.hoverStop=oOptions.hoverStop||false;this.autoTime=oOptions.autoTime||3000;this.playWay=oOptions.playWay||LJC.Linear;this.switchTime=oOptions.switchTime||500;this.shadow=oOptions.shadow||false;this.moveMode=oOptions.moveMode||"move";this.vPlay=oOptions.vPlay||false;this.listSwitch=oOptions.listSwitch||"hover";this.vDirection=oOptions.vDirection||"up";this.showText=oOptions.showText||false;this.loop=oOptions.loop||false}if(this.moveMode==="opacity"){this.loop=false}this.oSwiper=_get(id);this.oSwiperImg=oArrImg;this.iSwiperImgHeight=0;this.isMoving=false;this.oUl=document.createElement("ul");this.oList=document.createElement("div");this.oUl.className="swiperUl";this.oList.className="swiperList";_get(id).appendChild(this.oUl);_get(id).appendChild(this.oList);this.iCurIndex=0;this.oTimer=null;var that=this;if(_get(".swiperPrev",_get(id)).length!==0){this.oPrev=_get(".swiperPrev",_get(id))[0];this.oNext=_get(".swiperNext",_get(id))[0];this.oPrev.href="javascript:;";this.oNext.href="javascript:;"}if(this.listNum===false){this.oList.className="swiperList none"}this.oSwiper.className="swiper";for(var i=0,len=oArrImg.length;i<len;i+=1){_get("ul",_get(id))[0].appendChild(document.createElement("li"));_get("li",_get("ul",_get(id))[0])[i].appendChild(document.createElement("a"));_get("a",_get("li",_get("ul",_get(id))[0])[i])[0].appendChild(document.createElement("img"));_get("a",_get("li",_get("ul",_get(id))[0])[i])[0].href=oArrImg[i][1];if(this.showText&&oArrImg[i][3]===undefined){oArrImg[i][3]="没有初始化图片文字!"}if(this.showText){_get("li",_get("ul",_get(id))[0])[i].appendChild(document.createElement("div"));_get("div",_get("li",_get("ul",_get(id))[0])[i])[0].className="swiper-text";_get("div",_get("li",_get("ul",_get(id))[0])[i])[0].appendChild(document.createElement("p"));_get("p",_get("div",_get("li",_get("ul",_get(id))[0])[i])[0])[0].innerHTML=oArrImg[i][3]}if(oArrImg[i][2]===undefined||""){this.imgLocation="img"}else{this.imgLocation=oArrImg[i][2]}_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[i])[0])[0].src=this.imgLocation+"/"+oArrImg[i][0];_get(".swiperList",_get(id))[0].appendChild(document.createElement("a"));_get("a",_get(".swiperList",_get(id))[0])[i].href="javascript:;";_get("a",_get(".swiperList",_get(id))[0])[i].className="swiperListA";if(i===0){_get("a",_get(".swiperList",_get(id))[0])[0].className="swiperListA active";_get("li",_get("ul",_get(id))[0])[0].className="active"}_get("a",_get(".swiperList",_get(id))[0])[i].innerHTML=i+1;setAttr({"width":_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0].offsetWidth+"px"},_get(id));setAttr({"width":getAttr("width",_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0])},_get(id));switch(this.moveMode){case "move":if(this.vPlay){}else{setAttr({"left":i*_get(id).offsetWidth+"px"},_get("li",(_get("ul",_get(id)))[0])[i])}break;case "opacity":if(i!==0){_get("li",(_get("ul",_get(id)))[0])[i].className="pacity-hidden opacity"}else{_get("li",(_get("ul",_get(id)))[0])[i].className="pacity-active opacity"}break}if(this.loop){if(this.vPlay===false){if(i===len-1){this.oFirstPic=_get("li",_get("ul",_get(id))[0])[0].cloneNode(true);_get(".swiperUl",_get(id))[0].appendChild(this.oFirstPic);this.oLastPic=_get("li",_get("ul",_get(id))[0])[len-1].cloneNode(true);_get(".swiperUl",_get(id))[0].insertBefore(this.oLastPic,_get("li",_get("ul",_get(id))[0])[0]);var newImgLen=_get("li",(_get("ul",_get(id)))[0]).length;setAttr({"left": -_get(id).offsetWidth+"px"},_get("li",(_get("ul",_get(id)))[0])[0]);setAttr({"left":(newImgLen-2)*_get(id).offsetWidth+"px"},_get("li",(_get("ul",_get(id)))[0])[newImgLen-1])}}}if(this.listSwitch==="hover"){_get("a",_get(".swiperList",_get(id))[0])[i].index=i;_get("a",_get(".swiperList",_get(id))[0])[i].onmouseover=function(){that.iCurIndex=this.index;that.styleChange();that.run()}}else if(this.listSwitch==="click"){_get("a",_get(".swiperList",_get(id))[0])[i].index=i;_get("a",_get(".swiperList",_get(id))[0])[i].onclick=function(){that.iCurIndex=this.index;that.styleChange();that.run()}}}setDom();if(_get(".swiperPrev",_get(id)).length!==0){this.oPrev.onclick=function(e){if(!that.isMoving){that.iCurIndex-=1;if(that.loop){if(that.iCurIndex<-1){that.iCurIndex=that.oSwiperImg.length-1}}else{if(that.iCurIndex<0){that.iCurIndex=that.oSwiperImg.length-1}}that.run()}};this.oNext.onclick=function(e){if(!that.isMoving){that.iCurIndex+=1;if(that.loop){if(that.iCurIndex===that.oSwiperImg.length+1){that.iCurIndex=0}}else{if(that.iCurIndex===that.oSwiperImg.length){that.iCurIndex=0}}that.run()}}}if(this.autoPlay){this.autoRun()}if(this.switchBtn==="none"){this.hoverOut();this.isStopRun()}else if(this.switchBtn){this.hoverOn();this.isStopRun()}else{this.hoverOut();this.isStopRun()}if(this.shadow){this.oSwiper.className="swiper shadow"}function setDom(){setTimeout(function(){if(that.oSwiper.offsetHeight!==0){for(var i=0,len=that.oSwiperImg.length;i<len;i+=1){setAttr({"height":that.oSwiper.offsetHeight+"px"},_get("img",_get("a",_get("li",_get("ul",that.oSwiper)[0])[i])[0])[0])}}else{setAttr({"height":_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0].offsetHeight+"px"},_get(id));setAttr({"height":getAttr("height",_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0])},_get(id))}for(var i=0,len=oArrImg.length;i<len;i+=1){if(that.vPlay&&that.vDirection==="up"&&that.moveMode==="move"){setAttr({"top":i*_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0].offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[i]);if(that.loop){if(that.vPlay){if(i===len-1){that.oFirstPic=_get("li",_get("ul",_get(id))[0])[0].cloneNode(true);_get(".swiperUl",_get(id))[0].appendChild(that.oFirstPic);that.oLastPic=_get("li",_get("ul",_get(id))[0])[len-1].cloneNode(true);_get(".swiperUl",_get(id))[0].insertBefore(that.oLastPic,_get("li",_get("ul",_get(id))[0])[0]);var newImgLen=_get("li",(_get("ul",_get(id)))[0]).length;setAttr({"top": -_get(id).offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[0]);setAttr({"top":(newImgLen-2)*_get(id).offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[newImgLen-1])}}}}if(that.vPlay&&that.vDirection==="down"&&that.moveMode==="move"){setAttr({"top": -i*_get("img",_get("a",_get("li",_get("ul",_get(id))[0])[0])[0])[0].offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[i]);if(that.loop){if(that.vPlay){if(i===len-1){that.oFirstPic=_get("li",_get("ul",_get(id))[0])[0].cloneNode(true);_get(".swiperUl",_get(id))[0].appendChild(that.oFirstPic);that.oLastPic=_get("li",_get("ul",_get(id))[0])[len-1].cloneNode(true);_get(".swiperUl",_get(id))[0].insertBefore(that.oLastPic,_get("li",_get("ul",_get(id))[0])[0]);var newImgLen=_get("li",(_get("ul",_get(id)))[0]).length;setAttr({"top":_get(id).offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[0]);setAttr({"top": -(newImgLen-2)*_get(id).offsetHeight+"px"},_get("li",(_get("ul",_get(id)))[0])[newImgLen-1])}}}}}},150)}}Swiper.prototype.styleChange=function(){for(var j=0,len=this.oSwiperImg.length;j<len;j+=1){_get("a",_get(".swiperList",this.oSwiper)[0])[j].className=""}if(this.iCurIndex===this.oSwiperImg.length){_get("a",_get(".swiperList",this.oSwiper)[0])[0].className="active"}else if(this.iCurIndex===-1){_get("a",_get(".swiperList",this.oSwiper)[0])[this.oSwiperImg.length-1].className="active"}else{_get("a",_get(".swiperList",this.oSwiper)[0])[this.iCurIndex].className="active"}if(this.moveMode==="opacity"){for(var i=0,len=_get("li",_get("ul",this.oSwiper)[0]).length;i<len;i+=1){_get("li",_get("ul",this.oSwiper)[0])[i].className="pacity-hidden opacity";setAttr({"opacity":0},_get("li",_get("ul",this.oSwiper)[0])[this.iCurIndex])}_get("li",_get("ul",this.oSwiper)[0])[this.iCurIndex].className="opacity"}};Swiper.prototype.hoverOn=function(){if(_get(".swiperPrev",this.oSwiper).length!==0){setAttr({"display":"block"},_get(".swiperPrev",this.oSwiper)[0]);setAttr({"display":"block"},_get(".swiperNext",this.oSwiper)[0])}};Swiper.prototype.hoverOut=function(){if(_get(".swiperPrev",this.oSwiper).length!==0){setAttr({"display":"none"},_get(".swiperPrev",this.oSwiper)[0]);setAttr({"display":"none"},_get(".swiperNext",this.oSwiper)[0])}};Swiper.prototype.isStopRun=function(){var that=this;this.oSwiper.onmouseover=function(){if(that.hoverStop&&that.autoPlay&&(that.switchBtn===true||that.switchBtn==="none")){clearInterval(that.oTimer)}else if(that.hoverStop&&that.autoPlay&&that.switchBtn===false){clearInterval(that.oTimer);that.hoverOn()}else if(that.switchBtn===false){that.hoverOn()}};this.oSwiper.onmouseout=function(){if(that.hoverStop&&that.autoPlay&&(that.switchBtn===true||that.switchBtn==="none")){that.autoRun()}else if(that.hoverStop&&that.autoPlay&&that.switchBtn===false){that.hoverOut();that.autoRun()}else if(that.switchBtn===false){that.hoverOut()}}};Swiper.prototype.run=function(){var that=this;this.isMoving=true;switch(this.moveMode){case "move":if(this.vPlay&&this.vDirection==="up"&&this.moveMode==="move"){this.moveTarget={"top": -this.iCurIndex*this.oSwiper.offsetHeight}}else if(this.vPlay&&this.vDirection==="down"&&this.moveMode==="move"){this.moveTarget={"top":this.iCurIndex*this.oSwiper.offsetHeight}}else{this.moveTarget={"left": -this.iCurIndex*this.oSwiper.offsetWidth}}if(this.loop&&this.iCurIndex===-1&&!this.vPlay){startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"left": -(that.oSwiperImg.length-1)*that.oSwiper.offsetWidth+"px"},that.oUl);that.iCurIndex=that.oSwiperImg.length-1;that.isMoving=false})}else if(this.loop&&this.iCurIndex===this.oSwiperImg.length&&!this.vPlay){this.moveTarget={"left": -this.iCurIndex*this.oSwiper.offsetWidth};startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"left":0},that.oUl);that.iCurIndex=0;that.isMoving=false})}else if(this.loop&&this.iCurIndex===-1&&this.vPlay&&this.vDirection==="down"){startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"top":(that.oSwiperImg.length-1)*that.oSwiper.offsetHeight+"px"},that.oUl);that.iCurIndex=that.oSwiperImg.length-1;that.isMoving=false})}else if(this.loop&&this.iCurIndex===this.oSwiperImg.length&&this.vPlay&&this.vDirection==="down"){this.moveTarget={"top":this.iCurIndex*this.oSwiper.offsetHeight};startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"top":0},that.oUl);that.iCurIndex=0;that.isMoving=false})}else if(this.loop&&this.iCurIndex===-1&&this.vPlay&&this.vDirection==="up"){this.moveTarget={"top":this.oSwiper.offsetHeight};startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"top": -(that.oSwiperImg.length-1)*that.oSwiper.offsetHeight+"px"},that.oUl);that.iCurIndex=that.oSwiperImg.length-1;that.isMoving=false})}else if(this.loop&&this.iCurIndex===this.oSwiperImg.length&&this.vPlay&&this.vDirection==="up"){this.moveTarget={"top": -this.iCurIndex*this.oSwiper.offsetHeight};startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime,function(){setAttr({"top":0},that.oUl);that.iCurIndex=0;that.isMoving=false})}else{startMove(this.oUl,this.moveTarget,this.playWay,this.switchTime);that.isMoving=false}break;case "opacity":this.moveTarget={"opacity":100};that.isMoving=false;for(var i=0,len=that.oSwiperImg.length;i<len;i+=1){startMove(_get("li",_get("ul",this.oSwiper)[0])[i],{"opacity":0},this.playWay,this.switchTime)}startMove(_get("li",_get("ul",this.oSwiper)[0])[this.iCurIndex],this.moveTarget,this.playWay,this.switchTime)}this.styleChange()};Swiper.prototype.autoRun=function(){var that=this;this.oTimer=setInterval(function(){that.iCurIndex+=1;if(that.loop){if(that.iCurIndex===that.oSwiperImg.length+1){that.iCurIndex=0}}else{if(that.iCurIndex===that.oSwiperImg.length){that.iCurIndex=0}}that.run()},that.autoTime)};